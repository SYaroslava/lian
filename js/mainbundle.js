(()=>{const e=document.querySelector(".search-form");e.addEventListener("click",(function(e){e.preventDefault()})),function(){const t=document.querySelector(".search-form__btn"),n=document.querySelector(".search-form__close");null!=t&&(t.addEventListener("click",(function(t){e.classList.add("_open")})),n.addEventListener("click",(function(t){e.reset(),e.classList.remove("_open")})))}();const t=document.querySelector(".burger");t.addEventListener("click",(function(n){const o=document.querySelector(".header__body"),c=document.querySelector(".header__logo");o.classList.toggle("open"),c.classList.contains("open")?(c.classList.remove("open"),t.classList.remove("open"),e.classList.remove("_open"),document.body.classList.remove("lock")):setTimeout((function(){c.classList.add("open"),t.classList.add("open"),document.body.classList.add("lock"),e.classList.add("_open")}),200)}));const n=document.querySelectorAll("li[data-filter]"),o=document.querySelectorAll("div[data-filter]");if(n.length>0){c(document.querySelector("li[data-filter]._active"));for(let e=0;e<n.length;e++){const t=n[e];t.addEventListener("click",(function(e){document.querySelector("li[data-filter]._active").classList.remove("_active"),t.classList.add("_active"),c(t)}))}}function c(e){const t=e.dataset.filter;if("0"===t)!function(e){for(let e=0;e<o.length;e++)o[e].style.display="block"}();else for(let e=0;e<o.length;e++){const n=o[e];n.dataset.filter===t?n.style.display="block":n.style.display="none"}}const i=document.querySelectorAll(".gallery__item"),s=document.querySelector("body"),l=document.querySelectorAll(".popup-close"),a=document.querySelectorAll(".lock-padding"),r=document.querySelector(".popup .slider__body"),d=document.querySelector(".popup .slider__btn-next"),u=document.querySelector(".popup .slider__btn-prev"),p=document.querySelectorAll(".popup .pagination__item");let m=!0;if(i.length>0)for(let e=0;e<i.length;e++){const t=i[e];t.addEventListener("click",(function(e){const n=t.id;if((o=document.getElementById("popup"))&&m&&(function(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(e.length>0)for(let t=0;t<a.length;t++)a[t].style.paddingRight=e;s.style.paddingRight=e,s.classList.add("lock"),m=!1,setTimeout((function(){m=!0}),800)}(),o.classList.add("open"),o.addEventListener("click",(function(e){e.target.closest(".popup__content")||E(e.target.closest(".popup"))}))),null!=r){const e=document.querySelector("li[data-filter]._active").dataset.filter;"0"===e?f(n):_(e,n)}var o;e.preventDefault()}))}function _(e,t){let n=0,c=0;for(let i=0;i<o.length;i++){const s=o[i];s.dataset.filter===e&&(s.id===t?(c=n,r.insertAdjacentHTML("beforeend",'<div class="slider__block '+i+'">'+s.innerHTML+"</div>")):r.insertAdjacentHTML("beforeend",'<div class="slider__block '+i+'">'+s.innerHTML+"</div>"),n++)}g(n-1,c)}function f(e){let t=0;for(let n=0;n<o.length;n++){const c=o[n];c.id===e?(t=n,r.insertAdjacentHTML("beforeend",'<div class="slider__block '+n+'">'+c.innerHTML+"</div>")):r.insertAdjacentHTML("beforeend",'<div class="slider__block '+n+'">'+c.innerHTML+"</div>")}g(o.length-1,t)}let v,L,y;function g(e,t){v=-100*t,L=t,y=e,function(){const e=document.querySelector(".popup .pagination__item._active");if(y<1)return document.querySelector('.popup .pagination__item[data-number="1"').classList.add("_hidden"),void document.querySelector('.popup .pagination__item[data-number="2"').classList.add("_hidden");L===y?(e.classList.remove("_active"),document.querySelector('.popup .pagination__item[data-number="2"').classList.add("_active")):0!=L&&(e.classList.remove("_active"),document.querySelector('.popup .pagination__item[data-number="1"').classList.add("_active")),y<2?(document.querySelector('.popup .pagination__item[data-number="2"').classList.add("_hidden"),S(1)):S(2)}(),r.style.transform="translate("+v+"%,0%)",d.addEventListener("click",q),u.addEventListener("click",h)}function h(){L>0&&(v+=100,L--,k(!1),r.style.transform="translate("+v+"%,0%)")}function q(){L<y&&(v-=100,r.style.transform="translate("+v+"%,0%)",L++,k(!0))}function S(e){for(let t=0;t<=e;t++){const e=p[t];e.addEventListener("click",(()=>{b(e)}))}}function b(e){if(!e.classList.contains("_active")){document.querySelector(".popup .pagination__item._active").classList.remove("_active"),e.classList.add("_active");const t=parseInt(e.dataset.number);0===t?(v=0,L=0):2===t||t===y?(v=-100*y,L=y):1===t&&(v=-100*Math.floor(y/2),L=Math.floor(y/2)),r.style.transform="translate("+v+"%,0%)"}}function k(e){const t=document.querySelector(".popup .pagination__item._active");e?1===L?(t.classList.remove("_active"),document.querySelector('.popup .pagination__item[data-number="1"').classList.add("_active")):L===y&&(t.classList.remove("_active"),document.querySelector('.popup .pagination__item[data-number="2"').classList.add("_active")):0===L?(t.classList.remove("_active"),document.querySelector('.popup .pagination__item[data-number="0"').classList.add("_active")):L===y-1&&(t.classList.remove("_active"),document.querySelector('.popup .pagination__item[data-number="1"').classList.add("_active"))}if(l.length>0)for(let e=0;e<l.length;e++){const t=l[e];t.addEventListener("click",(function(e){E(t.closest(".popup")),e.preventDefault()}))}function E(e,n=!0){m&&(e&&(e.classList.remove("open"),null!=r&&function(){r.innerHTML="";for(let e=0;e<p.length;e++){const t=p[e];t.classList.remove("_hidden"),"0"!==t.dataset.number||t.classList.contains("_active")||t.classList.add("_active")}document.removeEventListener("click",q),document.removeEventListener("click",h),document.removeEventListener("click",b),document.removeEventListener("click",A),v=0,L=0,y=0}()),n&&(setTimeout((function(){if(a.length>0)for(let e=0;e<a.length;e++)a[e].style.paddingRight="0px";s.style.paddingRight="0px",t.classList.contains("open")||s.classList.remove("lock")}),800),m=!1,setTimeout((function(){m=!0}),800)))}document.addEventListener("keydown",(function(e){"Escape"!==e.key&&"Esc"!==e.key||E(document.querySelector(".popup.open"))}));const T=document.querySelectorAll(".popup .pagination,.popup .slider__btn-prev,.popup .slider__btn-next,.popup .popup-close");if(T.length>0){function A(){for(let e=0;e<T.length;e++){const t=T[e];t.classList.remove("_swiper-hidden"),setTimeout((function(){t.classList.add("_swiper-hidden")}),5e3)}}document.addEventListener("click",A)}})();